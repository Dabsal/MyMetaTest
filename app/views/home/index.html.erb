<!-- app/views/home/index.html.erb -->

<div class="relative min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white flex flex-col items-center z-10"
     data-controller="project">

  <!-- fundo dinâmico -->
  <div data-project-target="background"
     class="fixed inset-0 bg-cover bg-center blur-lg opacity-40 transition-all duration-500 z-0"></div>


  <!-- Top bar -->
  <header class="flex items-center justify-between p-6 w-full max-w-7xl relative z-10">
    <div class="flex items-center">
      <%= image_tag "metaoriginal-logo.png", alt: "MetaOriginal Logo", class: "h-10" %>
    </div>
    <div class="space-x-6">
      <a href="#" class="hover:text-cyan-400">Admin</a>
      <a href="#" class="hover:text-cyan-400">Logout</a>
    </div>
  </header>

  <!-- Title -->
  <section class="text-center mt-6 relative z-10">
    <h1 class="text-4xl font-extrabold">Select Project</h1>
    <p class="text-gray-300 mt-2">
      Explore our exclusive collection of luxury developments and premium locations
    </p>
  </section>

  <!-- carrossel -->
  <div class="relative w-full max-w-7xl mt-8 z-10">
    <button
      onclick="document.getElementById('carousel').scrollBy({ left: -400, behavior: 'smooth' })"
      class="absolute left-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full shadow-lg z-20">
      ←
    </button>

   <!-- cards -->
      <div id="carousel" class="flex space-x-6 overflow-x-auto px-16 scroll-smooth no-scrollbar relative z-10">
        <% @projects.each do |project| %>
          <div class="flex-shrink-0 w-80 rounded-2xl overflow-hidden shadow-xl bg-gray-800 hover:scale-105 transition-transform duration-300 cursor-pointer"
              data-action="mouseenter->project#preview mouseleave->project#reset"
              data-project-image-url="<%= asset_path(project[:image_url]) %>">
            <%= image_tag project[:image_url], alt: project[:title], class: "w-full h-56 object-cover" %>
            <div class="p-4 text-lg font-bold text-center"><%= project[:title] %></div>
          </div>
        <% end %>
      </div>

    <!-- seta direita -->
    <button
      onclick="document.getElementById('carousel').scrollBy({ left: 400, behavior: 'smooth' })"
      class="absolute right-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full shadow-lg z-20">
      →
    </button>
  </div>

  <!-- estilos extras para esconder barra de scroll -->
  <style>
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>

  <!-- Footer -->
  <footer class="p-6 text-gray-400 flex justify-between text-sm w-full max-w-7xl mt-8 relative z-10">
    <span>© 2025 Metaoriginal</span>
    <span>v1.0.0-d</span>
  </footer>
</div>